<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      
      <script>
         window.addEventListener("pageshow", function(event) {
             var historyTraversal = event.persisted ||
                 (typeof window.performance != "undefined" &&
                     window.performance.navigation.type === 2);
             if (historyTraversal) {
                 // Handle page restore.
                 window.location.reload();
             }
         });
      </script>
      
      <style>
         body {
         font-family: Arial, Helvetica, sans-serif;
         }
         /* Full-width input fields */
         input[type=text],
         input[type=password] {
         width: 100%;
         padding: 12px 20px;
         margin: 8px 0;
         display: inline-block;
         border: 1px solid #ccc;
         box-sizing: border-box;
         }
         /* Set a style for all buttons */
         button {
         background-color: #4CAF50;
         color: white;
         padding: 14px 20px;
         margin: 8px 0;
         border: none;
         cursor: pointer;
         width: 100%;
         }
         button:hover {
         opacity: 0.8;
         }
         th, td {
         padding: 15px;
         text-align: left;
         border-bottom: 3px solid #ddd;
         }
      </style>
   </head>
   <body>	
    <h1>Welcome Mr. Jobs!</h1>
	<h3>I have prepared a little summary for you!</h3></br></br>
	<h3>Change Flags for one Machine of one Group</h5></br></br>
	<!-- Range over given Array of Groups -->
	{{ range . }}
	<!-- Define variable $Id so we can still use it in inner range (loop) -->
	{{ $Id := .ID }}
      <table style="width:75%">
         <tr>
            <th>ID</th>
            <th>Value</th>
         </tr>

         <tr>
            <td>Group: {{ $Id }}</td>
            <td>
		<!-- Replace the .Points placeholder with the Value of Points of the currently iterated Group -->
               <p>Points: {{ .Points }}</p>
            </td>
		<!-- Make another range/loop through the Machines Array -->
		{{ range .Machines}}
		<tr>
		<!-- Replace the .ID_Machine tag with the corresponding field in the Machine element -->
        	<td>Machine: {{ .ID_Machine }}</td>
        	<td>
		<p>Change Flags for Machine with ID: {{ .ID_Machine }}</p>
		<!-- Change the fields in form with corresponding values -->
                <form method="post" action="/setFlag?machine={{ .ID_Machine }}&group={{$Id}}">
                Userflag: <input type="text" name="user">
                <br>
                Rootflag: <input type="text" name="root">
           	    <input type="submit" value="Submit">
           	    </form>
           	</td>
		<!-- End of the Innerloop with the Machines Array -->
    		{{ end }}
         </tr>
      </table>
	</br></br></br></br></br>
	<!-- End of the Loop of Group Array -->
      	{{ end }}
	<h3>Change Flags for all Machines</h5>
	<form method="post" action="/setAllFlags">
                Userflag: <input type="text" name="user">
                <br>
                Rootflag: <input type="text" name="root">
           	<input type="submit" value="Submit">
	</form></br></br></br></br></br>

	<h3>Change Flags for one particular Machine for all Groups</h5>
	<form method="post" action="/setAllFlagsForOne">
                Userflag: <input type="text" name="user">
                <br>
                Rootflag: <input type="text" name="root">
                <br>
                Machine: <input type="number" name="machine">
           	<input type="submit" value="Submit">
	</form></br></br></br></br></br>

	<h3>Insert new Machine</h5>
	<form method="post" action="/addVm">
                MachineID: <input type="number" name="machine">
                <br>
                Userflag: <input type="text" name="user">
                <br>
                Rootflag: <input type="text" name="root">
           	    <input type="submit" value="Submit">
           	    </form></br></br></br></br></br>
    	<button onclick="javascript:location.href='/logout'" style="width:auto;">Logout</button>
</body>
</html>


